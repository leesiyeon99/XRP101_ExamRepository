# 3번 문제

주어진 프로젝트 는 다음의 기능을 구현하고자 생성한 프로젝트이다.

### 1. Turret
- Trigger 범위 내로 플레이어가 들어왔을 때 1.5초에 한번씩 플레이어를 바라보면서 총알을 발사한다
- Trigger 범위 바깥으로 플레이어가 나가면 발사를 중지한다.
- 오브젝트 풀을 사용해 총알을 관리한다.

### 2. Bullet :
- 20만큼의 힘으로 전방을 향해 발사된다
- 발사 후 5초 경과 시 비활성화 처리된다
- 플레이어를 가격했을 경우 2의 데미지를 준다

### 3. Player
- 총알과 충돌했을 때, 데미지를 입는다
- 체력이 0 이하가 될 경우 효과음을 재생하며 비활성화된다.
- 플레이어의 이동은 씬 뷰를 사용해 이동하도록 한다.

위 기능들을 구현하고자 할 때
제시된 프로젝트에서 발생하는 `문제들을 모두 서술`하고 올바르게 동작하도록 `소스코드를 개선`하시오.

## 답안
- 1. Bullet프리팹에서 초기설정에 rigidbody를 가져와서 addforce를 사용하여 총알을 발사하는데 프리팹에 리지드바디가 달려있지 않아서 리지드바디를 가져오는데 오류 발생. => 리지드바디 추가
- 2. Trigger를 발생시키기 위해서 rigidbody를 플레이어와 터렛쪽에 추가해줌
- 3. 플레이어가 트리거 바깥쪽으로 나가도 터렛이 작동하는 현상 => OnTriggerExit을 사용하여 코루틴을 멈춰줌
- 4. 플레이어와 총알의 충돌이 발생하면 Trigger에서 PlayerController를 가져와서 데미지를 입히는데 플레이어의 컨트롤러를 가져오는 과정에서 body쪽에 콜라이더가 있어서 계속 PlayerController가
    null이 되는 현상 => player쪽에 collider를 달아줌 => body와 player 둘다 콜라이더가 있으면 트리거가 두번 발동되기 때문에 바디쪽 콜라이더는 없애줌
- 5. 발사된 총알이 5초 후에 사라지도록 코루틴 사용
- 6. 오디오가 재생되는 동시에 플레이어가 비활성화되어서 오디오가 재생이 안됨 => 코루틴을 사용하여 오디오를 재생 후 1초 후 플레이어가 비활성화 되도록 해줌
    